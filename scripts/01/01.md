# Day 1: Morning

## Half-way reminder

- code neatness
- indentation
- naming
- debugging process

## Server-side and Backend

- PHP is server-side language
- web servers runs PHP
- what is role of server, why use it. Centralised architecture
- LAMP
- Vagrant

## Demo

## [Exercise 01](https://github.com/develop-me/bootcamp--week-07--laravel/blob/master/challenges/01/01-scotchbox.md)

- Can't access index.php directly (demo)
- Hosts and IP addresses
- Vagrantfile tour
    - change IP for each box
    - change hostname

## Databases

- Intro to databases
- Accessing
    - SSH into your virtual server:
        `vagrant ssh`
    - access MySQL with the root user account
        `mysql -u root -p`
    - Password is `root`
    - Or, you can type:
        `mysql -u root -proot`

## Demo

- SQL to interact

## [Exercise 02](https://github.com/develop-me/bootcamp--week-07--laravel/blob/master/challenges/01/02-mysql.md )

## Demo: Starting to run SQL queries

- ```sql
    USE `scotchbox`;
    ```
- ```sql
    SHOW TABLES;
    ```
- ```sql
    CREATE TABLE `graduates` (
    `id` int(11) NOT NULL AUTO_INCREMENT,
    `fullname` varchar(255) NOT NULL,
    `location` varchar(255) NOT NULL,
    `age` int(11) NOT NULL,
    PRIMARY KEY (`id`)
    ) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=1;
    ```
- ```sql
    INSERT INTO `graduates` (`id`, `full name`, `location`, `age`) VALUES
    (1, 'Oli Ward', 'Bedminster', 36),
    (2, 'Simon Capet', 'College Green', 49),
    (3, 'Simon New', 'Montpelier', 38),
    (4, 'Kasia Pranke', 'Bedminster', 34),
    (5, 'Josh Simons', 'Redland', 32);
    ```

## [Exercise 03](https://github.com/develop-me/bootcamp--week-07--laravel/blob/master/challenges/01/03-practice-table.md)


## SQL conventions

- "Special" words written in uppercase
    ```sql
    USE DATABASE ...;
    SELECT * FROM ...;
    CREATE TABLE ...;
    ```
- Quotes and backticks
    ```sql
    `table name`
    `field name`
    'string value'
    "string value"
   ```

## Demo: SELECT

```sql
SELECT * FROM `graduates`;

SELECT * FROM `graduates` WHERE `age` < 30;

SELECT * FROM `graduates` WHERE `location` = 'Bedminster';
```

## [Exercise 04](https://github.com/develop-me/bootcamp--week-07--laravel/blob/master/challenges/01/04-select.md)

## Demo: how to exit

```bash
mysql> exit
vagrant@oli:~$ exit
~/Sites/scotchbox
```

## [Exercise 05](https://github.com/develop-me/bootcamp--week-07--laravel/blob/master/challenges/01/05-add-column.md)

## "Relational" databases

- planning (architecting) databases, change over time, efficiency
- reduce duplication of data
- example of blog articles, authors, login system, comments

## [Exercise 06](https://github.com/develop-me/bootcamp--week-07--laravel/blob/master/challenges/01/06-create.md)

## One-to-many

- One owner has many animals
- foreign keys
    ```sql
    CREATE TABLE parent (
        id INT NOT NULL,
        PRIMARY KEY (id)
    ) ENGINE=INNODB;

    CREATE TABLE child (
        id INT,
        parent_id INT,
        INDEX par_ind (parent_id),
        FOREIGN KEY (parent_id)
            REFERENCES parent(id)
            ON DELETE CASCADE
    ) ENGINE=INNODB;
    ```

    ```sql
    ALTER TABLE child FOREIGN KEY (parent_id)
        REFERENCES parent(id)
        ON DELETE CASCADE
    ```
- `ON DELETE CASCADE`

## [Exercise 07](https://github.com/develop-me/bootcamp--week-07--laravel/blob/master/challenges/01/07.md)

## JOINs

https://blog.codinghorror.com/a-visual-explanation-of-sql-joins/

```sql
SELECT * FROM `animals` JOIN `owners` ON `animals`.`id` = `owners`.`animal_id`;
```

```sql
LEFT JOIN
```

```sql
RIGHT JOIN
```

## [Exercise 08](https://github.com/develop-me/bootcamp--week-07--laravel/blob/master/challenges/01/08.md)

## Many-to-many
- What if an animal can have many owners?
